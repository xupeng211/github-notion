{
    "BudgetConfiguration": {
        "Name": "gitee-notion-sync-budget",
        "TimeUnit": "MONTHLY",
        "BudgetLimit": {
            "Amount": "100",
            "Unit": "USD"
        },
        "Notifications": [
            {
                "NotificationType": "ACTUAL",
                "ComparisonOperator": "GREATER_THAN",
                "Threshold": 80,
                "Recipients": ["${NOTIFICATION_EMAIL}"]
            },
            {
                "NotificationType": "FORECASTED",
                "ComparisonOperator": "GREATER_THAN",
                "Threshold": 100,
                "Recipients": ["${NOTIFICATION_EMAIL}"]
            }
        ]
    },
    "CostOptimizationRules": {
        "EC2AutoScaling": {
            "MinCapacity": 1,
            "MaxCapacity": 3,
            "TargetCPUUtilization": 70,
            "ScaleInCooldown": 300,
            "ScaleOutCooldown": 300
        },
        "ECSOptimization": {
            "TaskDefinition": {
                "CPU": "256",
                "Memory": "512"
            },
            "ServiceScaling": {
                "MinTasks": 1,
                "MaxTasks": 3
            }
        },
        "CloudWatchLogs": {
            "RetentionInDays": 30,
            "ExportToS3": {
                "Enabled": true,
                "Bucket": "${LOG_ARCHIVE_BUCKET}",
                "Prefix": "logs/",
                "ExportAfterDays": 7
            }
        },
        "S3Lifecycle": {
            "BackupBucket": {
                "TransitionToIA": 30,
                "TransitionToGlacier": 90,
                "Expiration": 365
            },
            "LogBucket": {
                "TransitionToIA": 30,
                "TransitionToGlacier": 60,
                "Expiration": 180
            }
        }
    },
    "ResourceTags": {
        "Environment": "production",
        "Project": "gitee-notion-sync",
        "CostCenter": "engineering",
        "Owner": "devops-team"
    },
    "CostAllocationTags": [
        "Environment",
        "Project",
        "CostCenter",
        "Owner"
    ],
    "Savings": {
        "ReservedInstances": {
            "Enabled": false,
            "Terms": "1yr"
        },
        "SavingsPlans": {
            "Enabled": true,
            "Type": "Compute",
            "Terms": "1yr",
            "PaymentOption": "No Upfront"
        }
    },
    "Monitoring": {
        "CostAndUsageReport": {
            "Enabled": true,
            "TimeUnit": "HOURLY",
            "Format": "Parquet",
            "Bucket": "${COST_REPORT_BUCKET}",
            "Prefix": "cost-reports/"
        },
        "Alerts": {
            "DailyCostThreshold": 10,
            "WeeklyCostThreshold": 50,
            "UnusedResourceCheck": true,
            "AnomalyDetection": {
                "Enabled": true,
                "Threshold": 30
            }
        }
    }
} 