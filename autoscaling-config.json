{
  "ScalableTargetConfiguration": {
    "MaxCapacity": 10,
    "MinCapacity": 1,
    "ResourceId": "service/gitee-notion-sync-cluster/gitee-notion-sync-service",
    "ScalableDimension": "ecs:service:DesiredCount",
    "ServiceNamespace": "ecs"
  },
  "TargetTrackingScalingPolicies": [
    {
      "PolicyName": "CPUUtilizationScaling",
      "ResourceId": "service/gitee-notion-sync-cluster/gitee-notion-sync-service",
      "ScalableDimension": "ecs:service:DesiredCount",
      "ServiceNamespace": "ecs",
      "TargetTrackingScalingPolicyConfiguration": {
        "PredefinedMetricSpecification": {
          "PredefinedMetricType": "ECSServiceAverageCPUUtilization"
        },
        "ScaleInCooldown": 300,
        "ScaleOutCooldown": 300,
        "TargetValue": 75.0
      }
    },
    {
      "PolicyName": "MemoryUtilizationScaling",
      "ResourceId": "service/gitee-notion-sync-cluster/gitee-notion-sync-service",
      "ScalableDimension": "ecs:service:DesiredCount",
      "ServiceNamespace": "ecs",
      "TargetTrackingScalingPolicyConfiguration": {
        "PredefinedMetricSpecification": {
          "PredefinedMetricType": "ECSServiceAverageMemoryUtilization"
        },
        "ScaleInCooldown": 300,
        "ScaleOutCooldown": 300,
        "TargetValue": 80.0
      }
    },
    {
      "PolicyName": "RequestCountScaling",
      "ResourceId": "service/gitee-notion-sync-cluster/gitee-notion-sync-service",
      "ScalableDimension": "ecs:service:DesiredCount",
      "ServiceNamespace": "ecs",
      "TargetTrackingScalingPolicyConfiguration": {
        "CustomizedMetricSpecification": {
          "Dimensions": [
            {
              "Name": "TargetGroup",
              "Value": "gitee-notion-sync-tg"
            }
          ],
          "MetricName": "RequestCount",
          "Namespace": "AWS/ApplicationELB",
          "Statistic": "Sum",
          "Unit": "Count"
        },
        "ScaleInCooldown": 300,
        "ScaleOutCooldown": 300,
        "TargetValue": 1000.0
      }
    }
  ]
}
