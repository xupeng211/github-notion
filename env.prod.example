# 生产环境配置模板
# 复制为 .env.production
# ⚠️ 此文件包含敏感信息，不要提交到版本控制

# ===========================================
# 🔐 必须配置的安全参数 (绝对不能使用默认值)
# ===========================================

# Webhook密钥 - 使用强随机密码生成器 (只支持 GitHub)
# 建议: openssl rand -hex 32
GITHUB_WEBHOOK_SECRET=CHANGE_ME_PRODUCTION_GITHUB_SECRET_MINIMUM_32_CHARS

# 死信队列重放令牌 - 超级管理员功能
# 建议: openssl rand -hex 32
DEADLETTER_REPLAY_TOKEN=CHANGE_ME_PRODUCTION_ADMIN_TOKEN_MINIMUM_32_CHARS

# ===========================================
# 🔗 API集成配置 (生产凭证)
# ===========================================

# GitHub Personal Access Token (生产账号)
# 权限: repo, issues, pull_requests
GITHUB_TOKEN=github_pat_production_replace_with_real_token

# Notion Integration Token (生产workspace)
NOTION_TOKEN=secret_PRODUCTION_TOKEN_PLEASE_CHANGE_THIS

# Notion生产数据库ID
NOTION_DATABASE_ID=PRODUCTION_DATABASE_ID_CHANGE_ME

# ===========================================
# 📊 生产应用配置
# ===========================================

# 环境标识
ENVIRONMENT=production

# 日志级别 (生产环境建议INFO或WARNING)
LOG_LEVEL=INFO

# 服务端口
PORT=8000

# 生产数据库连接 (强烈推荐PostgreSQL)
# 格式: postgresql://username:password@hostname:port/database
DB_URL=postgresql://username:password@hostname:5432/database_name

# ===========================================
# 🔧 生产功能配置
# ===========================================

# 启用所有生产功能
DISABLE_NOTION=0
DISABLE_METRICS=0

# 生产速率限制 (根据负载调整)
RATE_LIMIT_PER_MINUTE=500

# 请求大小限制 (8MB)
MAX_REQUEST_SIZE=8388608

# 应用版本 (CI/CD自动设置)
APP_VERSION=latest

# ===========================================
# 📊 生产监控配置
# ===========================================

# Prometheus监控端口
METRICS_PORT=9090

# 健康检查路径 (负载均衡器使用)
HEALTH_CHECK_PATH=/health

# ===========================================
# 🚀 性能优化配置
# ===========================================

# 工作进程数 (建议设置为CPU核心数)
WORKERS=4

# 最大连接数
MAX_CONNECTIONS=1000

# 连接超时 (秒)
TIMEOUT=30

# ===========================================
# 🔒 生产安全检查清单
# ===========================================
# ✅ 所有CHANGE_ME值已修改为安全的随机字符串
# ✅ 使用独立的生产GitHub/Notion账号
# ✅ 数据库使用PostgreSQL而非SQLite
# ✅ 所有密钥长度≥32字符
# ✅ 定期轮换所有凭证 (建议每90天)
# ✅ 启用数据库备份
# ✅ 配置监控和告警
# ✅ 限制API访问IP范围 (如可能)
# ✅ 启用HTTPS和安全头部
