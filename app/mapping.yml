# GitHub <-> Notion åŒå‘åŒæ­¥å­—æ®µæ˜ å°„é…ç½®
#
# é…ç½®è¯´æ˜ï¼š
# - github_to_notion: GitHub å­—æ®µ -> Notion å±æ€§æ˜ å°„
# - notion_to_github: Notion å±æ€§ -> GitHub å­—æ®µæ˜ å°„
# - field_types: å­—æ®µç±»å‹å®šä¹‰ï¼Œç”¨äºæ•°æ®è½¬æ¢

github_to_notion:
  # åŸºæœ¬ä¿¡æ¯æ˜ å°„
  title: "Task"              # Issue æ ‡é¢˜ -> Task å±æ€§ (title)
  body: "Description"        # Issue å†…å®¹ -> Description å±æ€§ (rich_text)
  number: "Issue ID"         # Issue ç¼–å· -> Issue ID å±æ€§ (number)
  html_url: "GitHub URL"     # GitHub URL -> GitHub URL å±æ€§ (url)

  # çŠ¶æ€å’Œä¼˜å…ˆçº§
  state: "Status"            # Issue çŠ¶æ€ -> Status å±æ€§ (select)

  # æ ‡ç­¾å’Œåˆ†ç±»
  "labels.0.name": "Primary Label"    # ä¸»è¦æ ‡ç­¾ -> Primary Label å±æ€§ (select)
  "labels.1.name": "Secondary Label"  # æ¬¡è¦æ ‡ç­¾ -> Secondary Label å±æ€§ (select)

  # ç”¨æˆ·ä¿¡æ¯
  "user.login": "Reporter"   # æŠ¥å‘Šè€… -> Reporter å±æ€§ (rich_text)
  "assignee.login": "Assignee" # åˆ†é…è€… -> Assignee å±æ€§ (rich_text)

  # æ—¶é—´ä¿¡æ¯
  created_at: "Created"      # åˆ›å»ºæ—¶é—´ -> Created å±æ€§ (date)
  updated_at: "Updated"      # æ›´æ–°æ—¶é—´ -> Updated å±æ€§ (date)

  # è‡ªå®šä¹‰å­—æ®µ
  milestone: "Milestone"     # é‡Œç¨‹ç¢‘ -> Milestone å±æ€§ (select)

notion_to_github:
  # åŸºæœ¬ä¿¡æ¯æ˜ å°„ï¼ˆåå‘ï¼‰
  "Task": "title"
  "Description": "body"

  # çŠ¶æ€æ˜ å°„ï¼ˆæ™ºèƒ½è½¬æ¢ï¼‰
  "Status": "state"

  # æ ‡ç­¾æ˜ å°„
  "Primary Label": "labels.primary"
  "Secondary Label": "labels.secondary"

  # ç”¨æˆ·æ˜ å°„
  "Assignee": "assignee"

# å­—æ®µç±»å‹å®šä¹‰
field_types:
  # Notion å±æ€§ç±»å‹
  "Task": "title"
  "Description": "rich_text"
  "Issue ID": "number"
  "GitHub URL": "url"
  "Status": "select"
  "Primary Label": "select"
  "Secondary Label": "select"
  "Reporter": "rich_text"
  "Assignee": "rich_text"
  "Created": "date"
  "Updated": "date"
  "Milestone": "select"

# çŠ¶æ€æ˜ å°„è§„åˆ™
status_mapping:
  github_to_notion:
    "open": "ğŸ”„ In Progress"
    "closed": "âœ… Done"
  notion_to_github:
    "ğŸ”„ In Progress": "open"
    "ğŸ“‹ To Do": "open"
    "âœ… Done": "closed"
    "âŒ Cancelled": "closed"
    "ğŸ”¥ Urgent": "open"

# æ ‡ç­¾é¢œè‰²æ˜ å°„
label_colors:
  "bug": "red"
  "enhancement": "green"
  "documentation": "blue"
  "question": "purple"
  "help wanted": "yellow"
  "good first issue": "pink"

# åŒæ­¥é…ç½®
sync_config:
  # åŒå‘åŒæ­¥å¼€å…³
  bidirectional_sync: true

  # åŒæ­¥å†…å®¹ç±»å‹
  sync_issues: true
  sync_comments: true
  sync_labels: true
  sync_assignees: true

  # æ€§èƒ½é…ç½®
  batch_size: 10           # æ‰¹é‡å¤„ç†å¤§å°
  rate_limit_delay: 1.0    # API é™æµå»¶è¿Ÿï¼ˆç§’ï¼‰
  retry_attempts: 3        # é‡è¯•æ¬¡æ•°

  # é˜²å¾ªç¯é…ç½®
  loop_detection: true
  sync_marker_timeout: 300 # åŒæ­¥æ ‡è®°è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

  # è¿‡æ»¤è§„åˆ™
  ignore_bots: true        # å¿½ç•¥æœºå™¨äººç”¨æˆ·çš„æ“ä½œ
  ignore_labels:           # å¿½ç•¥ç‰¹å®šæ ‡ç­¾çš„ issue
    - "sync-ignore"
    - "duplicate"
