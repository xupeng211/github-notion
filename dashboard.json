{
  "widgets": [
    {
      "properties": {
        "metrics": [
          [
            "GiteeNotionSync",
            "HealthCheckSuccess",
            "Service",
            "API"
          ],
          [
            ".",
            "APILatency",
            ".",
            "."
          ]
        ],
        "period": 300,
        "region": "ap-northeast-1",
        "stat": "Average",
        "title": "\u5e94\u7528\u5065\u5eb7\u72b6\u6001",
        "view": "timeSeries"
      },
      "type": "metric"
    },
    {
      "properties": {
        "metrics": [
          [
            "GiteeNotionSync",
            "GiteeWebhookReceived",
            "Type",
            "Issue"
          ],
          [
            ".",
            "GiteeWebhookProcessed",
            ".",
            "."
          ],
          [
            ".",
            "NotionWebhookReceived",
            ".",
            "Page"
          ],
          [
            ".",
            "NotionWebhookProcessed",
            ".",
            "."
          ]
        ],
        "period": 300,
        "region": "ap-northeast-1",
        "stat": "Sum",
        "title": "Webhook \u5904\u7406\u7edf\u8ba1",
        "view": "timeSeries"
      },
      "type": "metric"
    },
    {
      "properties": {
        "metrics": [
          [
            "GiteeNotionSync",
            "ErrorCount",
            "ErrorType",
            "Webhook"
          ],
          [
            ".",
            ".",
            ".",
            "API"
          ],
          [
            ".",
            ".",
            ".",
            "Authentication"
          ]
        ],
        "period": 300,
        "region": "ap-northeast-1",
        "stat": "Sum",
        "title": "\u9519\u8bef\u7387",
        "view": "timeSeries"
      },
      "type": "metric"
    },
    {
      "properties": {
        "metrics": [
          [
            "AWS/ECS",
            "CPUUtilization",
            "ServiceName",
            "gitee-notion-sync"
          ],
          [
            ".",
            "MemoryUtilization",
            ".",
            "."
          ]
        ],
        "period": 300,
        "region": "ap-northeast-1",
        "stat": "Average",
        "title": "\u8d44\u6e90\u4f7f\u7528\u7387",
        "view": "timeSeries"
      },
      "type": "metric"
    },
    {
      "properties": {
        "metrics": [
          [
            "GiteeNotionSync",
            "APILatency",
            "Endpoint",
            "gitee_webhook",
            {
              "stat": "p50"
            }
          ],
          [
            "...",
            {
              "stat": "p90"
            }
          ],
          [
            "...",
            {
              "stat": "p99"
            }
          ]
        ],
        "period": 300,
        "region": "ap-northeast-1",
        "title": "API \u54cd\u5e94\u65f6\u95f4\u5206\u5e03",
        "view": "timeSeries"
      },
      "type": "metric"
    },
    {
      "properties": {
        "metrics": [
          [
            "GiteeNotionSync",
            "SyncLatency",
            "Direction",
            "GiteeToNotion"
          ],
          [
            ".",
            ".",
            ".",
            "NotionToGitee"
          ]
        ],
        "period": 300,
        "region": "ap-northeast-1",
        "stat": "Average",
        "title": "\u540c\u6b65\u5ef6\u8fdf",
        "view": "timeSeries"
      },
      "type": "metric"
    },
    {
      "properties": {
        "query": "SOURCE '/aws/ecs/gitee-notion-sync' | fields @timestamp, @message | filter @message like /ERROR/",
        "region": "ap-northeast-1",
        "title": "\u9519\u8bef\u65e5\u5fd7",
        "view": "table"
      },
      "type": "log"
    },
    {
      "properties": {
        "metrics": [
          [
            "AWS/ApplicationELB",
            "RequestCount",
            "LoadBalancer",
            "gitee-notion-sync-alb"
          ],
          [
            ".",
            "HTTPCode_Target_4XX_Count",
            ".",
            "."
          ],
          [
            ".",
            "HTTPCode_Target_5XX_Count",
            ".",
            "."
          ]
        ],
        "period": 300,
        "region": "ap-northeast-1",
        "stat": "Sum",
        "title": "\u7f51\u7edc\u6d41\u91cf",
        "view": "timeSeries"
      },
      "type": "metric"
    }
  ]
}
